function A(A){return 1&A?~A>>1:A>>1}function e(A,e){let t=Array(A);for(let r=0,n=-1;r<A;r++)t[r]=n+=1+e();return t}function t(e,t){let r=Array(e);for(let n=0,o=0;n<e;n++)r[n]=o+=A(t());return r}function r(A,t){let r=e(A(),A),n=A(),o=e(n,A),f=function(A,e){let t=Array(A);for(let r=0;r<A;r++)t[r]=1+e();return t}(n,A);for(let A=0;A<n;A++)for(let e=0;e<f[A];e++)r.push(o[A]+e);return t?r.map((A=>t[A])):r}function n(A){let e=[];for(;;){let t=A();if(!t)break;e.push(t)}return e}function o(A,e,r){let n=Array(A).fill().map((()=>[]));for(let o=0;o<e;o++)t(A,r).forEach(((A,e)=>n[e].push(A)));return n}function f(A,e){let t=1+e(),r=e(),f=n(e);return o(f.length,1+A,e).flatMap(((A,e)=>{let[n,...o]=A;return Array(f[e]).fill().map(((A,e)=>{let f=e*r;return[n+e*t,o.map((A=>A+f))]}))}))}function w(A,e){return o(1+e(),1+A,e).map((A=>[A[0],A.slice(1)]))}var l=function(A){let e=0;return()=>A[e++]}(function(A){let e=0;function t(){return A[e++]<<8|A[e++]}let r=t(),n=1,o=[0,1];for(let A=1;A<r;A++)o.push(n+=t());let f=t(),w=e;e+=f;let l=0,Q=0;function g(){return 0==l&&(Q=Q<<8|A[e++],l=8),Q>>--l&1}const s=2**31,B=s>>>1,E=s-1;let c=0;for(let A=0;A<31;A++)c=c<<1|g();let C=[],i=0,h=s;for(;;){let A=Math.floor(((c-i+1)*n-1)/h),e=0,t=r;for(;t-e>1;){let r=e+t>>>1;A<o[r]?t=r:e=r}if(0==e)break;C.push(e);let f=i+Math.floor(h*o[e]/n),w=i+Math.floor(h*o[e+1]/n)-1;for(;0==((f^w)&B);)c=c<<1&E|g(),f=f<<1&E,w=w<<1&E|1;for(;f&~w&536870912;)c=c&B|c<<1&E>>>1|g(),f=f<<1^B,w=(w^B)<<1|B|1;i=f,h=1+w-f}let a=r-4;return C.map((e=>{switch(e-a){case 3:return a+65792+(A[w++]<<16|A[w++]<<8|A[w++]);case 2:return a+256+(A[w++]<<8|A[w++]);case 1:return a+A[w++];default:return e-1}}))}(function(A){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((A,t)=>e[A.charCodeAt(0)]=t));let t=A.length,r=new Uint8Array(6*t>>3);for(let n=0,o=0,f=0,w=0;n<t;n++)w=w<<6|e[A.charCodeAt(n)],f+=6,f>=8&&(r[o++]=w>>(f-=8));return r}("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")));function Q(A){return A.toString(16).toUpperCase().padStart(2,"0")}function g(A){let e=[];for(let t=0,r=A.length;t<r;){let r=A.codePointAt(t);t+=r<65536?1:2,e.push(r)}return e}function s(A){return String.fromCodePoint(...A)}function B(A,e){return g(s(A).normalize(e))}function E(A){return B(A,"NFC")}function c(A){return B(A,"NFD")}const C=r(l).sort(((A,e)=>A-e)),i=new Set(C),h=new Set(r(l)),a=new Map(function(A){let e=[];for(;;){let t=A();if(0==t)break;e.push(f(t,A))}for(;;){let t=A()-1;if(t<0)break;e.push(w(t,A))}return e.flat()}(l));function p(){return new Set(r(l,C))}const D=p(),u=p(),I=["Latin","Greek","Cyrillic"].map(((A,e)=>[A,p(),e?p():0])),M=n((()=>{let A=p();if(A.size)return A})),k=new Set(r(l)),Y=function(A){let e=r(A).sort(((A,e)=>A-e));return function t(){let n=[];for(;;){let o=r(A,e);if(0==o.length)break;n.push({set:new Set(o),node:t()})}n.sort(((A,e)=>e.set.size-A.set.size));let o=A(),f=o%3;o=o/3|0;let w=!!(1&o);return o>>=1,{branches:n,valid:f,fe0f:w,save:1==o,check:2==o}}()}(l),F=p();function H(A){let e=A.lastIndexOf(95);for(;e>0;)if(95!==A[--e])throw new Error("underscore only allowed at start")}function y(A){if(A.length>=4&&45===A[2]&&45===A[3]&&A.every((A=>A<128)))throw new Error("invalid label extension")}function R(A,e,t,r,n){let o=-1;if(A[0]===e){if(r)throw new Error(`leading ${t}`);o=0}for(;;){let r=A.indexOf(e,o+1);if(-1==r)break;if(o==r-1)throw new Error(`adjacent ${t}`);o=r}if(n&&o==A.length-1)throw new Error(`trailing ${t}`)}function L(A){let e=0;for(;e=A.indexOf(183,e),-1!=e;){if(108!==A[e-1]||108!==A[e+1])throw new Error("ContextO: middle dot");e+=2}}function P(A){for(let e=0;e<I.length;e++){let[t,r,n]=I[e];if(A.some((A=>r.has(A)))){for(let r=e+1;r<I.length;r++){let[e,n]=I[r];if(A.some((A=>n.has(A))))throw new Error(`mixed-script confusable: ${t} + ${e}`)}if(n&&A.every((A=>!r.has(A)||n.has(A))))throw new Error(`whole-script confusable: ${t}`);break}}}function U(A){for(let e of M)if(A.some((A=>e.has(A)))){if(!A.every((A=>e.has(A)||65039==A)))throw new Error("restricted script cannot mix");break}}function x(A){for(let e=0,t=-1;e<A.length;e++)if(D.has(A[e])){if(0==e)throw new Error("leading combining mark");if(e==t)throw new Error(`adjacent combining marks "${s(A.slice(e-2,e+1))}"`);{let t=A[e-1];if(65039==t||u.has(t))throw new Error("isolate combining mark")}t=e+1}}function K(A){for(let e of A.split(".")){if(!e)throw new Error("Empty label");try{let A=g(e);H(A),y(A),R(A,8217,"apostrophe",!0,!0),L(A),P(A);let t=c(J(e,(()=>[65039])));x(t),U(t)}catch(A){throw new Error(`Invalid label "${e}": ${A.message}`)}}return A}function S(A,e=E){return s(e(J(A,d)))}function N(A){return K(S(A))}function b(A){return s(E(J(A,(A=>A))))}function d(A){return A.filter((A=>65039!=A))}function J(A,e){let t=g(A).reverse(),r=[];for(;t.length;){let A=m(t);if(A)r.push(...e(A));else{let A=t.pop();if(i.has(A))r.push(A);else{let e=a.get(A);if(e)r.push(...e);else if(!h.has(A))throw new Error(`Disallowed codepoint: 0x${Q(A)}`)}}}return r}function m(A,e){let t,r,n=Y,o=[],f=A.length;for(e&&(e.length=0);f;){let w=A[--f],l=n.branches.find((A=>A.set.has(w)));if(!l)break;if(n=l.node,n.save)r=w;else if(n.check&&w===r)break;o.push(w),n.fe0f&&(o.push(65039),f>0&&65039==A[f-1]&&f--),n.valid&&(t=v(o,n),e&&e.push(...A.slice(f).reverse()),A.length=f)}if(!t){let r=A[A.length-1];k.has(r)&&(e&&e.push(r),t=[r],A.pop())}return t}function v(A,e){let t=A.slice();return 2==e.valid&&t.splice(1,1),t}function G(){let A=[...k].map((A=>[A]));return function e(t,r,n){if(t.save)n=r[r.length-1];else if(t.check&&n===r[r.length-1])return;t.fe0f&&r.push(65039),t.valid&&A.push(v(r,t));for(let A of t.branches)for(let t of A.set)e(A.node,[...r,t],n)}(Y,[]),A}function O(A){let e=g(A).reverse(),t=[],r=[];for(;e.length;){let A=m(e,t);if(A)r.push({type:"emoji",emoji:A,input:t.slice(),cps:d(A)});else{let A=e.pop();if(46===A)r.push({type:"stop",cp:A});else if(i.has(A))u.has(A)?r.push({type:"isolated",cp:A}):r.push({type:"valid",cps:[A]});else if(h.has(A))r.push({type:"ignored",cp:A});else{let e=a.get(A);e?r.push({type:"mapped",cp:A,cps:e.slice()}):r.push({type:"disallowed",cp:A})}}}for(let A=0,e=-1;A<r.length;A++){let t=r[A];if(Z(t.type))if(T(t.cps)){let t=A+1;for(let A=t;A<r.length;A++){let{type:e,cps:n}=r[A];if(Z(e)){if(!T(n))break;t=A+1}else if("ignored"!==e)break}e<0&&(e=A);let n=r.slice(e,t),o=n.flatMap((A=>Z(A.type)?A.cps:[])),f=E(o);s(o)===s(f)?A=t-1:(r.splice(e,t-e,{type:"nfc",input:o,cps:f,tokens:V(n)}),A=e),e=-1}else e=A;else"emoji"===t.type&&(e=-1)}return V(r)}function Z(A){return"valid"===A||"mapped"===A}function T(A){return A.some((A=>F.has(A)))}function V(A){for(let e=0;e<A.length;e++)if("valid"===A[e].type){let t=e+1;for(;t<A.length&&"valid"===A[t].type;)t++;A.splice(e,t-e,{type:"valid",cps:A.slice(e,t).flatMap((A=>A.cps))})}return A}export{b as ens_beautify,G as ens_emoji,N as ens_normalize,S as ens_normalize_fragment,K as ens_normalize_post_check,O as ens_tokenize,E as nfc,c as nfd};
