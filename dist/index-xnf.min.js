function A(A){return 1&A?~A>>1:A>>1}function e(A,e){let t=Array(A);for(let r=0,n=-1;r<A;r++)t[r]=n+=1+e();return t}function t(e,t){let r=Array(e);for(let n=0,o=0;n<e;n++)r[n]=o+=A(t());return r}function r(A,t){let r=e(A(),A),n=A(),o=e(n,A),l=function(A,e){let t=Array(A);for(let r=0;r<A;r++)t[r]=1+e();return t}(n,A);for(let A=0;A<n;A++)for(let e=0;e<l[A];e++)r.push(o[A]+e);return t?r.map((A=>t[A])):r}function n(A){let e=[];for(;;){let t=A();if(!t)break;e.push(t)}return e}function o(A,e,r){let n=Array(A).fill().map((()=>[]));for(let o=0;o<e;o++)t(A,r).forEach(((A,e)=>n[e].push(A)));return n}function l(A,e){let t=1+e(),r=e(),l=n(e);return o(l.length,1+A,e).flatMap(((A,e)=>{let[n,...o]=A;return Array(l[e]).fill().map(((A,e)=>{let l=e*r;return[n+e*t,o.map((A=>A+l))]}))}))}function s(A,e){return o(1+e(),1+A,e).map((A=>[A[0],A.slice(1)]))}var i=function(A){let e=0;return()=>A[e++]}(function(A){let e=0;function t(){return A[e++]<<8|A[e++]}let r=t(),n=1,o=[0,1];for(let A=1;A<r;A++)o.push(n+=t());let l=t(),s=e;e+=l;let i=0,w=0;function f(){return 0==i&&(w=w<<8|A[e++],i=8),w>>--i&1}const c=2**31,Q=c>>>1,B=c-1;let a=0;for(let A=0;A<31;A++)a=a<<1|f();let g=[],E=0,C=c;for(;;){let A=Math.floor(((a-E+1)*n-1)/C),e=0,t=r;for(;t-e>1;){let r=e+t>>>1;A<o[r]?t=r:e=r}if(0==e)break;g.push(e);let l=E+Math.floor(C*o[e]/n),s=E+Math.floor(C*o[e+1]/n)-1;for(;0==((l^s)&Q);)a=a<<1&B|f(),l=l<<1&B,s=s<<1&B|1;for(;l&~s&536870912;)a=a&Q|a<<1&B>>>1|f(),l=l<<1^Q,s=(s^Q)<<1|Q|1;E=l,C=1+s-l}let h=r-4;return g.map((e=>{switch(e-h){case 3:return h+65792+(A[s++]<<16|A[s++]<<8|A[s++]);case 2:return h+256+(A[s++]<<8|A[s++]);case 1:return h+A[s++];default:return e-1}}))}(function(A){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((A,t)=>e[A.charCodeAt(0)]=t));let t=A.length,r=new Uint8Array(6*t>>3);for(let n=0,o=0,l=0,s=0;n<t;n++)s=s<<6|e[A.charCodeAt(n)],l+=6,l>=8&&(r[o++]=s>>(l-=8));return r}("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")));function w(A){return`{${function(A){return A.toString(16).toUpperCase().padStart(2,"0")}(A)}}`}function f(A){let e=[];for(let t=0,r=A.length;t<r;){let r=A.codePointAt(t);t+=r<65536?1:2,e.push(r)}return e}function c(A){let e=A.length;if(e<4096)return String.fromCodePoint(...A);let t=[];for(let r=0;r<e;)t.push(String.fromCodePoint(...A.slice(r,r+=4096)));return t.join("")}function Q(A,e){let{length:t}=A,r=t-e.length;for(let n=0;0==r&&n<t;n++)r=A[n]-e[n];return r}function B(A,e){return f(c(A).normalize(e))}function a(A){return B(A,"NFC")}function g(A){return B(A,"NFD")}const E=r(i).sort(((A,e)=>A-e));function C(A){return new Set(r(i,A))}function h(){return C(E)}function u(){return n((()=>{let A=h();if(A.size)return A}))}const p=new Set(E),F=C(),I=new Map(function(A){let e=[];for(;;){let t=A();if(0==t)break;e.push(l(t,A))}for(;;){let t=A()-1;if(t<0)break;e.push(s(t,A))}return e.flat()}(i)),M=h(),L=[],D=new Map([n((()=>{let A=i();if(A)return[A,(e=i,n((()=>{let A=n(e);if(A.length)return A.map((A=>A-1))})))];var e})),r(i,E).map((A=>[A,L]))].flat()),H=u(),v=[{name:"Korean",test:[1],rest:[0,2],allow:[97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122],deny:[]},{name:"Japanese",test:[3,4],rest:[0,2],allow:[97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122],deny:[19968]},{name:"Han",test:[2],rest:[0],allow:[97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122],deny:[]},{name:"Latin",test:[5],rest:[0],allow:[],deny:[]},{name:"Cyrillic",test:[6],rest:[0],allow:[],deny:[]},{name:"Greek",test:[7],rest:[0],allow:[],deny:[]},{name:"Arabic",test:[8],rest:[],allow:[45],deny:[]},{name:"Devanagari",test:[9],rest:[],allow:[],deny:[]},{name:"Hebrew",test:[10],rest:[],allow:[8362],deny:[]},{name:"Thai",test:[11],rest:[],allow:[3647],deny:[]}].map((({name:A,test:e,rest:t})=>(t=[e=e.map((A=>H[A])),t.map((A=>H[A]))].flat(),{name:A,test:e,rest:t,allow:h(),deny:h(),wholes:h()}))),y=h(),V=u(),d=C(),G=function(A){let e=r(A).sort(((A,e)=>A-e));return function t(){let n=[];for(;;){let o=r(A,e);if(0==o.length)break;n.push({set:new Set(o),node:t()})}n.sort(((A,e)=>e.set.size-A.set.size));let o=A(),l=o%3;o=o/3|0;let s=!!(1&o);return o>>=1,{branches:n,valid:l,fe0f:s,save:1==o,check:2==o}}()}(i),m=h(),b=C(),K=C(),x=c([46]);function J(A,e=w){let t=[];k(A[0])&&t.push("◌");let r=0,n=A.length;for(let o=0;o<n;o++){let n=A[o];S(n)&&(t.push(c(A.slice(r,o))),t.push(e(n)),r=o+1)}return t.push(c(A.slice(r,n))),t.join("")}function k(A){return M.has(A)||K.has(A)}function S(A){return b.has(A)}function U(A,e=a){return A.split(x).map((A=>c(e(T(f(A)))))).join(x)}function N(A){return X(Y(A))}function O(A){let e=Y(A,(A=>A));for(let{script:A,output:t}of e)if("Greek"!==A){let A=0;for(;;){let e=t.indexOf(958,A);if(e<0)break;t[e]=926,A=e+1}}return X(e)}function Y(A,e=P){let t=0;return A.split(x).map((A=>{let r=f(A),n={input:r,offset:t};t+=r.length+1;try{let A=n.mapped=T(r),t=n.output=a(A.flatMap((A=>Array.isArray(A)?e(A):A)));n.emoji=A.some((A=>Array.isArray(A))),function(A){for(let e=A.lastIndexOf(95);e>0;)if(95!==A[--e])throw new Error("underscore allowed only at start")}(t),function(A){if(M.has(A[0]))throw new Error("leading combining mark")}(t),function(A){if(A.length>=4&&45===A[2]&&45===A[3]&&A.every((A=>A<128)))throw new Error("invalid label extension")}(t);let o=g(A.map((A=>Array.isArray(A)?65039:A)));!function(A){if(!(A=A.filter((A=>65039!=A))).length)return!0;for(let e of V)if(A.some((A=>e.has(A)))){if(!A.every((A=>e.has(A))))throw new Error("restricted script cannot mix");if(A.every((A=>y.has(A))))throw new Error("restricted whole-script confusable");return!0}}(o)?(function(A){for(let e=1,t=-1;e<A.length;e++)if(M.has(A[e])){let r=A[e-1];if(65039==r)throw new Error("emoji + combining mark");let n=D.get(r);if(n){let t=e+1;for(;t<A.length&&M.has(A[t]);)t++;let r=A.slice(e,t);if(!n.find((A=>!Q(A,r))))throw new Error(`disallowed combining mark sequence: "${c(A.slice(e-1,t))}"`);e=t}else{if(e==t)throw new Error(`adjacent combining marks "${c(A.slice(e-2,e+1))}"`);t=e+1}}}(o),function(A,e,t,r,n){let o=-1;if(8217===A[0])throw new Error(`leading ${t}`);for(;;){let e=A.indexOf(8217,o+1);if(-1==e)break;if(o==e-1)throw new Error(`adjacent ${t}`);o=e}if(o==A.length-1)throw new Error(`trailing ${t}`)}(t,0,"apostrophe"),n.script=function(A){for(let{name:e,test:t,rest:r,allow:n,deny:o,wholes:l}of v)if(A.some((A=>t.some((e=>e.has(A)))))){for(let t of A){if(!r.some((A=>A.has(t)))&&!n.has(t))throw new Error(`mixed-script ${e} confusable: "${J([t])}"`);if(o.has(t))throw new Error(`single-script ${e} confusable: "${J([t])}"`)}if(A.every((A=>l.has(A)||H[0].has(A))))throw new Error(`whole-script ${e} confusable`);return e}return"Common"}(a(A.flatMap((A=>Array.isArray(A)?[]:A))))):n.script=A.every((A=>Array.isArray(A)))?"Common":"Restricted"}catch(A){n.error=A.message}return n}))}function X(A){return A.map((({input:e,error:t,output:r})=>{if(t)throw new Error(1==A.length?t:`Invalid label "${J(e)}": ${t}`);return c(r)})).join(x)}function T(A){let e=[];for(A=A.slice().reverse();A.length;){let t=R(A);if(t)e.push(t);else{let t=A.pop();if(p.has(t))e.push(t);else{let A=I.get(t);if(A)e.push(...A);else if(!F.has(t)){let A=S(t)?"":` "${J([t])}"`;throw new Error(`disallowed character:${A} ${w(t)}`)}}}}return e}function P(A){return A.filter((A=>65039!=A))}function R(A,e){let t,r,n=G,o=[],l=A.length;for(e&&(e.length=0);l;){let s=A[--l],i=n.branches.find((A=>A.set.has(s)));if(!i)break;if(n=i.node,n.save)r=s;else if(n.check&&s===r)break;o.push(s),n.fe0f&&(o.push(65039),l>0&&65039==A[l-1]&&l--),n.valid&&(t=W(o,n),e&&e.push(...A.slice(l).reverse()),A.length=l)}if(!t){let r=A[A.length-1];d.has(r)&&(e&&e.push(r),t=[r],A.pop())}return t}function W(A,e){let t=A.slice();return 2==e.valid&&t.splice(1,1),t}function z(){let A=[...d].map((A=>[A]));return function e(t,r,n){if(t.save)n=r[r.length-1];else if(t.check&&n===r[r.length-1])return;t.fe0f&&r.push(65039),t.valid&&A.push(W(r,t));for(let A of t.branches)for(let t of A.set)e(A.node,[...r,t],n)}(G,[]),A.sort(Q)}function j(A,{nf:e=!0}={}){let t=f(A).reverse(),r=[],n=[];for(;t.length;){let A=R(t,r);if(A)n.push({type:"emoji",emoji:A,input:r.slice(),cps:P(A)});else{let A=t.pop();if(46===A)n.push({type:"stop",cp:A});else if(p.has(A))n.push({type:"valid",cps:[A]});else if(F.has(A))n.push({type:"ignored",cp:A});else{let e=I.get(A);e?n.push({type:"mapped",cp:A,cps:e.slice()}):n.push({type:"disallowed",cp:A})}}}if(e)for(let A=0,e=-1;A<n.length;A++){let t=n[A];if(Z(t.type))if(q(t.cps)){let t=A+1;for(let A=t;A<n.length;A++){let{type:e,cps:r}=n[A];if(Z(e)){if(!q(r))break;t=A+1}else if("ignored"!==e)break}e<0&&(e=A);let r=n.slice(e,t),o=r.flatMap((A=>Z(A.type)?A.cps:[])),l=a(o);Q(l,o)?(n.splice(e,t-e,{type:"nfc",input:o,cps:l,tokens:$(r)}),A=e):A=t-1,e=-1}else e=A;else"emoji"===t.type&&(e=-1)}return $(n)}function Z(A){return"valid"===A||"mapped"===A}function q(A){return A.some((A=>m.has(A)))}function $(A){for(let e=0;e<A.length;e++)if("valid"===A[e].type){let t=e+1;for(;t<A.length&&"valid"===A[t].type;)t++;A.splice(e,t-e,{type:"valid",cps:A.slice(e,t).flatMap((A=>A.cps))})}return A}export{O as ens_beautify,z as ens_emoji,N as ens_normalize,U as ens_normalize_fragment,Y as ens_split,j as ens_tokenize,k as is_printable_mark,a as nfc,g as nfd,J as safe_str_from_cps,S as should_escape};
