function A(A){return 1&A?~A>>1:A>>1}function e(e,t){let r=Array(e);for(let o=0,n=0;o<e;o++)r[o]=n+=A(t());return r}function t(A,e=0){let t=[];for(;;){let r=A(),o=A();if(!o)break;e+=r;for(let A=0;A<o;A++)t.push(e+A);e+=o+1}return t}function r(A){let e=[];for(;;){let t=A();if(!t)break;e.push(t)}return e}function o(A,t,r){let o=Array(A).fill().map((()=>[]));for(let n=0;n<t;n++)e(A,r).forEach(((A,e)=>o[e].push(A)));return o}function n(A,e){let t=1+e(),n=e(),l=r(e);return o(l.length,1+A,e).flatMap(((A,e)=>{let[r,...o]=A;return Array(l[e]).fill().map(((A,e)=>{let l=e*n;return[r+e*t,o.map((A=>A+l))]}))}))}function l(A,e){return o(1+e(),1+A,e).map((A=>[A[0],A.slice(1)]))}var B=function(A){let e=0;return()=>A[e++]}(function(A){let e=0;function t(){return A[e++]<<8|A[e++]}let r=t(),o=1,n=[0,1];for(let A=1;A<r;A++)n.push(o+=t());let l=t(),B=e;e+=l;let g=0,i=0;function C(){return 0==g&&(i=i<<8|A[e++],g=8),i>>--g&1}const s=2**31,f=s>>>1,Q=s-1;let w=0;for(let A=0;A<31;A++)w=w<<1|C();let u=[],E=0,a=s;for(;;){let A=Math.floor(((w-E+1)*o-1)/a),e=0,t=r;for(;t-e>1;){let r=e+t>>>1;A<n[r]?t=r:e=r}if(0==e)break;u.push(e);let l=E+Math.floor(a*n[e]/o),B=E+Math.floor(a*n[e+1]/o)-1;for(;0==((l^B)&f);)w=w<<1&Q|C(),l=l<<1&Q,B=B<<1&Q|1;for(;l&~B&536870912;)w=w&f|w<<1&Q>>>1|C(),l=l<<1^f,B=(B^f)<<1|f|1;E=l,a=1+B-l}let c=r-4;return u.map((e=>{switch(e-c){case 3:return c+65792+(A[B++]<<16|A[B++]<<8|A[B++]);case 2:return c+256+(A[B++]<<8|A[B++]);case 1:return c+A[B++];default:return e-1}}))}(function(A){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((A,t)=>e[A.charCodeAt(0)]=t));let t=A.length,r=new Uint8Array(6*t>>3);for(let o=0,n=0,l=0,B=0;o<t;o++)B=B<<6|e[A.charCodeAt(o)],l+=6,l>=8&&(r[n++]=B>>(l-=8));return r}("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")));function g(A){return`{${function(A){return A.toString(16).toUpperCase().padStart(2,"0")}(A)}}`}function i(A){let e=[];for(let t=0,r=A.length;t<r;){let r=A.codePointAt(t);t+=r<65536?1:2,e.push(r)}return e}function C(A){let e=A.length;if(e<4096)return String.fromCodePoint(...A);let t=[];for(let r=0;r<e;)t.push(String.fromCodePoint(...A.slice(r,r+=4096)));return t.join("")}function s(A,e){let{length:t}=A,r=t-e.length;for(let o=0;0==r&&o<t;o++)r=A[o]-e[o];return r}function f(A,e){return i(C(A).normalize(e))}function Q(A){return f(A,"NFC")}function w(A){return f(A,"NFD")}function u(){return new Set(t(B))}function E(A){return C(e(A,B))}const a=new Map(function(A){let e=[];for(;;){let t=A();if(0==t)break;e.push(n(t,A))}for(;;){let t=A()-1;if(t<0)break;e.push(l(t,A))}return e.flat()}(B)),c=u(),p=new Map(r((()=>{let A=B();if(A)return[A,E(B())]}))),h=u(),D=u(),I=u(),F=(M=B,r((()=>{let A=t(M);if(A.length)return A})));var M;function k(){return new Set([t(B).map((A=>F[A])),t(B)].flat(2))}const K=r((()=>{let A=B();if(A){let e=1==A;A=e?"Restricted":E(A-1);let t=k(),o=k(),n=[...t,...o].sort(((A,e)=>A-e)),l=B()-1;return l<0&&(l=new Map(r((()=>{let A=B();if(A)return[n[A-1],r((()=>{let A=r(B);if(A.length)return A.map((A=>A-1))}))]})))),{N:A,P:t,M:l,R:e,V:new Set(n)}}})),J=new Map(r((()=>{let A=t(B);if(A.length){let e=u();return A.map((A=>[A,e]))}})).flat()),S=t(B),P=new Set(t(B).map((A=>S[A]))),U=function A(e){let o=r((()=>{let e=t(B).map((A=>S[A]));if(e.length)return A(e)})).sort(((A,e)=>e.Q.size-A.Q.size)),n=B(),l=n%3;n=n/3|0;let g=1&n;return n>>=1,{B:o,V:l,F:g,S:1&n,C:2&n,Q:new Set(e)}}([]),G=new Set,L=new Set;for(let A of K)for(let e of A.V)G.has(e)?L.add(e):G.add(e);for(let A of G)for(let e of w([A]))G.add(e);const H=new Map(K.flatMap((A=>[...A.V].filter((A=>!L.has(A))).map((e=>[e,A]))))),R=C([46]);class y extends Array{get is_emoji(){return!0}}function O(A,e=g){let t=[];Y(A[0])&&t.push("◌");let r=0,o=A.length;for(let n=0;n<o;n++){let o=A[n];d(o)&&(t.push(C(A.slice(r,n))),t.push(e(o)),r=n+1)}return t.push(C(A.slice(r,o))),t.join("")}function m(A){return(d(A)?"":`"${O([A])}" `)+g(A)}function Y(A){return h.has(A)}function d(A){return D.has(A)}function q(A,e=Q){return A.split(R).map((A=>C(V(i(A),e).flatMap((A=>A.is_emoji?Z(A):A))))).join(R)}function N(A){return j(X(A))}function T(A){let e=X(A,!0);for(let{script:A,output:t,error:r}of e)if("Greek"!==A){let A=0;for(;;){let e=t.indexOf(958,A);if(e<0)break;t[e]=926,A=e+1}}return j(e)}function X(A,e){let t=0;return A.split(R).map((A=>{let r,o=i(A),n={input:o,offset:t};t+=o.length+1;try{let A,t=n.tokens=V(o,Q),l=t.length;if(l){let o=t[0],B=l>1||o.is_emoji;if(!B&&o.every((A=>A<128)))r=o,function(A){if(A.length>=4&&45==A[2]&&45==A[3])throw new Error("invalid label extension")}(r),A="ASCII";else if(B&&(n.emoji=!0,o=t.flatMap((A=>A.is_emoji?[]:A))),r=t.flatMap((A=>!e&&A.is_emoji?Z(A):A)),o.length){!function(A){if(h.has(A[0]))throw new Error("leading combining mark")}(r),function(A){let e=A[0],t=p.get(e);if(t)throw new Error(`leading ${t}`);let r=-1;for(let o=1;o<A.length;o++){e=A[o];let n=p.get(e);if(n){if(r==o)throw new Error(`adjacent ${t} + ${n}`);r=o+1,t=n}}if(r==A.length)throw new Error(`trailing ${t}`)}(r);for(let A=1;A<l;A++){let e=t[A];if(!e.is_emoji&&h.has(e[0]))throw new Error(`emoji + combining mark: "${C(t[A-1])} + ${O([e[0]])}"`)}A=function(A){let e,t,r=[],o=[];for(let t of A){let n=J.get(t);if(n)if(o.push(t),e){if(e=e.filter((A=>n.has(A))),!e.length)break}else e=[...n];else{let e=H.get(t);if(e)return x(e,A),e;r.push(t)}}if(e)for(let A of e){let e=K[A];if(r.every((A=>e.V.has(A)))&&!o.every((A=>e.V.has(A))))throw new Error("whole-label confusable")}for(let e of K)if(A.some((A=>e.P.has(A))))try{return x(e,A),e}catch(A){t||(t=A)}if(t)throw t;throw V(A,(A=>A)),new Error("no match")}(o).N}else A="Emoji";!function(A){for(let e=A.lastIndexOf(95);e>0;)if(95!==A[--e])throw new Error("underscore allowed only at start")}(r)}else r=[],A="None";n.type=A}catch(A){n.error=A}return n.output=r,n}))}function j(A){return A.map((({input:e,error:t,output:r})=>{if(t){let r=t.message;throw new Error(1==A.length?r:`Invalid label "${O(e)}": ${r}`)}return C(r)})).join(R)}function x(A,e){let{V:t,M:r}=A,o=r instanceof Map;for(let n=0,l=e.length;n<l;){let B=e[n++],g=o&&r.get(B);if(g){let A=n;for(;A<l&&h.has(e[A]);)A++;let t=e.slice(n,A);if(!g.find((A=>!s(A,t))))throw new Error(`disallowed combining mark sequence: "${O([B,...t])}"`);n=A}else if(!t.has(B)){let t=m(B);for(let r of e){let e=H.get(r);if(e&&e!==A){e.R||(t=`${t} is ${e.N}`);break}}throw new Error(`disallowed ${A.N} character: ${t}`)}}if(!o)for(let A=1,t=w(e).length;A<t;A++)if(h.has(e[A])){let o=A+1;for(;o<t&&h.has(e[o]);)o++;if(o-A>r)throw new Error(`too many combining marks: "${C(e.slice(A-1,o))}" (${o-A}/${r})`);A=o}}function V(A,e){let t=[],r=[];for(A=A.slice().reverse();A.length;){let o=b(A);if(o)r.length&&(t.push(e(r)),r=[]),t.push(o);else{let e=A.pop();if(G.has(e))r.push(e);else{let A=a.get(e);if(A)r.push(...A);else if(!c.has(e))throw new Error(`disallowed character: ${m(e)}`)}}}return r.length&&t.push(e(r)),t}function Z(A){return A.filter((A=>65039!=A))}function b(A,e){let t,r,o=U,n=[],l=A.length;for(e&&(e.length=0);l;){let B=A[--l];if(o=o.B.find((A=>A.Q.has(B))),!o)break;if(o.S)r=B;else if(o.C&&B===r)break;n.push(B),o.F&&(n.push(65039),l>0&&65039==A[l-1]&&l--),o.V&&(t=z(n,o),e&&e.push(...A.slice(l).reverse()),A.length=l)}if(!t){let r=A[A.length-1];P.has(r)&&(e&&e.push(r),t=y.of(r),A.pop())}return t}function z(A,e){let t=y.from(A);return 2==e.V&&t.splice(1,1),t}function W(){let A=[...P].map((A=>[A]));return function e(t,r,o){if(t.S)o=r[r.length-1];else if(t.C&&o===r[r.length-1])return;t.F&&r.push(65039),t.V&&A.push(z(r,t));for(let A of t.B)for(let t of A.Q)e(A,[...r,t],o)}(U,[]),A.sort(s)}function v(A,{nf:e=!0}={}){let t=i(A).reverse(),r=[],o=[];for(;t.length;){let A=b(t,r);if(A)o.push({type:"emoji",emoji:A,input:r.slice(),cps:Z(A)});else{let A=t.pop();if(46==A)o.push({type:"stop",cp:A});else if(G.has(A))o.push({type:"valid",cps:[A]});else if(c.has(A))o.push({type:"ignored",cp:A});else{let e=a.get(A);e?o.push({type:"mapped",cp:A,cps:e.slice()}):o.push({type:"disallowed",cp:A})}}}if(e)for(let A=0,e=-1;A<o.length;A++){let t=o[A];if($(t.type))if(_(t.cps)){let t=A+1;for(let A=t;A<o.length;A++){let{type:e,cps:r}=o[A];if($(e)){if(!_(r))break;t=A+1}else if("ignored"!==e)break}e<0&&(e=A);let r=o.slice(e,t),n=r.flatMap((A=>$(A.type)?A.cps:[])),l=Q(n);s(l,n)?(o.splice(e,t-e,{type:"nfc",input:n,cps:l,tokens:AA(r)}),A=e):A=t-1,e=-1}else e=A;else"emoji"==t.type&&(e=-1)}return AA(o)}function $(A){return"valid"==A||"mapped"==A}function _(A){return A.some((A=>I.has(A)))}function AA(A){for(let e=0;e<A.length;e++)if("valid"==A[e].type){let t=e+1;for(;t<A.length&&"valid"==A[t].type;)t++;A.splice(e,t-e,{type:"valid",cps:A.slice(e,t).flatMap((A=>A.cps))})}return A}export{T as ens_beautify,W as ens_emoji,N as ens_normalize,q as ens_normalize_fragment,X as ens_split,v as ens_tokenize,Y as is_combining_mark,Q as nfc,w as nfd,O as safe_str_from_cps,d as should_escape};
