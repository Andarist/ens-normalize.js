function A(A){return 1&A?~A>>1:A>>1}function e(A,e){let t=Array(A);for(let r=0,n=-1;r<A;r++)t[r]=n+=1+e();return t}function t(e,t){let r=Array(e);for(let n=0,B=0;n<e;n++)r[n]=B+=A(t());return r}function r(A,t){let r=e(A(),A),n=A(),B=e(n,A),l=function(A,e){let t=Array(A);for(let r=0;r<A;r++)t[r]=1+e();return t}(n,A);for(let A=0;A<n;A++)for(let e=0;e<l[A];e++)r.push(B[A]+e);return t?r.map((A=>t[A])):r}function n(A){let e=[];for(;;){let t=A();if(!t)break;e.push(t)}return e}function B(A,e,r){let n=Array(A).fill().map((()=>[]));for(let B=0;B<e;B++)t(A,r).forEach(((A,e)=>n[e].push(A)));return n}function l(A,e){let t=1+e(),r=e(),l=n(e);return B(l.length,1+A,e).flatMap(((A,e)=>{let[n,...B]=A;return Array(l[e]).fill().map(((A,e)=>{let l=e*r;return[n+e*t,B.map((A=>A+l))]}))}))}function w(A,e){return B(1+e(),1+A,e).map((A=>[A[0],A.slice(1)]))}var Q=function(A){let e=0;return()=>A[e++]}(function(A){let e=0;function t(){return A[e++]<<8|A[e++]}let r=t(),n=1,B=[0,1];for(let A=1;A<r;A++)B.push(n+=t());let l=t(),w=e;e+=l;let Q=0,o=0;function f(){return 0==Q&&(o=o<<8|A[e++],Q=8),o>>--Q&1}const s=2**31,i=s>>>1,c=s-1;let E=0;for(let A=0;A<31;A++)E=E<<1|f();let C=[],g=0,M=s;for(;;){let A=Math.floor(((E-g+1)*n-1)/M),e=0,t=r;for(;t-e>1;){let r=e+t>>>1;A<B[r]?t=r:e=r}if(0==e)break;C.push(e);let l=g+Math.floor(M*B[e]/n),w=g+Math.floor(M*B[e+1]/n)-1;for(;0==((l^w)&i);)E=E<<1&c|f(),l=l<<1&c,w=w<<1&c|1;for(;l&~w&536870912;)E=E&i|E<<1&c>>>1|f(),l=l<<1^i,w=(w^i)<<1|i|1;g=l,M=1+w-l}let u=r-4;return C.map((e=>{switch(e-u){case 3:return u+65792+(A[w++]<<16|A[w++]<<8|A[w++]);case 2:return u+256+(A[w++]<<8|A[w++]);case 1:return u+A[w++];default:return e-1}}))}(function(A){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((A,t)=>e[A.charCodeAt(0)]=t));let t=A.length,r=new Uint8Array(6*t>>3);for(let n=0,B=0,l=0,w=0;n<t;n++)w=w<<6|e[A.charCodeAt(n)],l+=6,l>=8&&(r[B++]=w>>(l-=8));return r}("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")));function o(A){return A.toString(16).toUpperCase().padStart(2,"0")}function f(A){let e=[];for(let t=0,r=A.length;t<r;){let r=A.codePointAt(t);t+=r<65536?1:2,e.push(r)}return e}function s(A){return String.fromCodePoint(...A)}function i(A,e){return f(s(A).normalize(e))}function c(A){return i(A,"NFC")}function E(A){return i(A,"NFD")}const C=r(Q).sort(((A,e)=>A-e)),g=new Set(C),M=new Set(r(Q)),u=new Map(function(A){let e=[];for(;;){let t=A();if(0==t)break;e.push(l(t,A))}for(;;){let t=A()-1;if(t<0)break;e.push(w(t,A))}return e.flat()}(Q));function h(){return new Set(r(Q,C))}const p=h(),U=h(),D=["Latin","Greek","Cyrillic"].map(((A,e)=>[A,h(),e?h():0])),k=n((()=>{let A=h();if(A.size)return A})),F=new Set(r(Q)),a=function(A){let e=r(A).sort(((A,e)=>A-e));return function t(){let n=[];for(;;){let B=r(A,e);if(0==B.length)break;n.push({set:new Set(B),node:t()})}n.sort(((A,e)=>e.set.size-A.set.size));let B=A(),l=B%3;B=B/3|0;let w=!!(1&B);return B>>=1,{branches:n,valid:l,fe0f:w,save:1==B,check:2==B}}()}(Q),I=h();function K(A){let e=A.lastIndexOf(95);for(;e>0;)if(95!==A[--e])throw new Error("underscore only allowed at start")}function V(A){if(A.length>=4&&45===A[2]&&45===A[3]&&A.every((A=>A<128)))throw new Error("invalid label extension")}function L(A,e,t,r,n){let B=-1;if(A[0]===e){if(r)throw new Error(`leading ${t}`);B=0}for(;;){let r=A.indexOf(e,B+1);if(-1==r)break;if(B==r-1)throw new Error(`adjacent ${t}`);B=r}if(n&&B==A.length-1)throw new Error(`trailing ${t}`)}function O(A){let e=0;for(;e=A.indexOf(183,e),-1!=e;){if(108!==A[e-1]||108!==A[e+1])throw new Error("ContextO: middle dot");e+=2}}function T(A){for(let e=0;e<D.length;e++){let[t,r,n]=D[e];if(A.some((A=>r.has(A)))){for(let r=e+1;r<D.length;r++){let[e,n]=D[r];if(A.some((A=>n.has(A))))throw new Error(`mixed-script confusable: ${t} + ${e}`)}if(n&&A.every((A=>!r.has(A)||n.has(A))))throw new Error(`whole-script confusable: ${t}`);break}}}function G(A){for(let e of k)if(A.some((A=>e.has(A)))){if(!A.every((A=>e.has(A)||65039==A)))throw new Error("restricted script cannot mix");break}}function R(A){for(let e=0,t=-1;e<A.length;e++)if(p.has(A[e])){if(0==e)throw new Error("leading combining mark");if(e==t)throw new Error(`adjacent combining marks "${s(A.slice(e-2,e+1))}"`);{let t=A[e-1];if(65039==t||U.has(t))throw new Error("isolate combining mark")}t=e+1}}function d(A){for(let e of A.split(".")){if(!e)throw new Error("Empty label");try{let A=f(e);K(A),V(A),L(A,8217,"apostrophe",!0,!0),O(A),T(A);let t=E(S(e,(()=>[65039])));R(t),G(t)}catch(A){throw new Error(`Invalid label "${e}": ${A.message}`)}}return A}function x(A,e=c){return s(e(S(A,J)))}function m(A){return d(x(A))}function N(A){return s(c(S(A,(A=>A))))}function J(A){return A.filter((A=>65039!=A))}function S(A,e){let t=f(A).reverse(),r=[];for(;t.length;){let A=y(t);if(A)r.push(...e(A));else{let A=t.pop();if(g.has(A))r.push(A);else{let e=u.get(A);if(e)r.push(...e);else if(!M.has(A))throw new Error(`Disallowed codepoint: 0x${o(A)}`)}}}return r}function y(A,e){let t,r,n=a,B=[],l=A.length;for(e&&(e.length=0);l;){let w=A[--l],Q=n.branches.find((A=>A.set.has(w)));if(!Q)break;if(n=Q.node,n.save)r=w;else if(n.check&&w===r)break;B.push(w),n.fe0f&&(B.push(65039),l>0&&65039==A[l-1]&&l--),n.valid&&(t=H(B,n),e&&e.push(...A.slice(l).reverse()),A.length=l)}if(!t){let r=A[A.length-1];F.has(r)&&(e&&e.push(r),t=[r],A.pop())}return t}function H(A,e){let t=A.slice();return 2==e.valid&&t.splice(1,1),t}function b(){let A=[...F].map((A=>[A]));return function e(t,r,n){if(t.save)n=r[r.length-1];else if(t.check&&n===r[r.length-1])return;t.fe0f&&r.push(65039),t.valid&&A.push(H(r,t));for(let A of t.branches)for(let t of A.set)e(A.node,[...r,t],n)}(a,[]),A}function P(A){let e=f(A).reverse(),t=[],r=[];for(;e.length;){let A=y(e,t);if(A)r.push({type:"emoji",emoji:A,input:t.slice(),cps:J(A)});else{let A=e.pop();if(46===A)r.push({type:"stop",cp:A});else if(g.has(A))U.has(A)?r.push({type:"isolated",cp:A}):r.push({type:"valid",cps:[A]});else if(M.has(A))r.push({type:"ignored",cp:A});else{let e=u.get(A);e?r.push({type:"mapped",cp:A,cps:e.slice()}):r.push({type:"disallowed",cp:A})}}}for(let A=0,e=-1;A<r.length;A++){let t=r[A];if(Z(t.type))if(Y(t.cps)){let t=A+1;for(let A=t;A<r.length;A++){let{type:e,cps:n}=r[A];if(Z(e)){if(!Y(n))break;t=A+1}else if("ignored"!==e)break}e<0&&(e=A);let n=r.slice(e,t),B=n.flatMap((A=>Z(A.type)?A.cps:[])),l=c(B);s(B)===s(l)?A=t-1:(r.splice(e,t-e,{type:"nfc",input:B,cps:l,tokens:X(n)}),A=e),e=-1}else e=A;else"emoji"===t.type&&(e=-1)}return X(r)}function Z(A){return"valid"===A||"mapped"===A}function Y(A){return A.some((A=>I.has(A)))}function X(A){for(let e=0;e<A.length;e++)if("valid"===A[e].type){let t=e+1;for(;t<A.length&&"valid"===A[t].type;)t++;A.splice(e,t-e,{type:"valid",cps:A.slice(e,t).flatMap((A=>A.cps))})}return A}export{N as ens_beautify,b as ens_emoji,m as ens_normalize,x as ens_normalize_fragment,d as ens_normalize_post_check,P as ens_tokenize,c as nfc,E as nfd};
