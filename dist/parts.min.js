function t(t){return t.toString(16).toUpperCase().padStart(2,"0")}function n(n){return`{${t(n)}}`}function e(t){return`&#${t};`}function o(...o){return d=String.fromCodePoint(...o),(r=n=>8204==n?'<span class="mod zwj">ZWNJ</span>':8205==n?'<span class="mod zwj">ZWJ</span>':`<code>${t(n)}</code>`)||(r=n),a||(a=e),d.replace(/(?:([\x00-\x20\x7F\xA0\s\u200C\u200D\u{E0020}-\u{E007F}])|([^\x21-\x25\x27-\x3B\x3D\x3F-\x7E]))/gu,((t,n,e)=>n?r(n.codePointAt(0)):a(e.codePointAt(0))));var d,r,a}function d(n){return`Hex: 0x${n.map(t).join(" ")}\nDec: ${n.join(" ")}`}function r(n,e=!0){let r=document.createElement("div");return r.classList.add("tokens"),r.append(...n.flatMap((({v:n,m:r,i:a,d:i,e:s,u:p})=>{let c;if(s){let n=e?s:p;c=document.createElement("a"),c.href=`https://emojipedia.org/${String.fromCodePoint(...n)}`,c.classList.add("glyph");for(let e of n){let n=document.createElement("span");if(8205==e)n.classList.add("mod","zwj"),n.innerHTML="ZWJ";else if(65039==e)n.classList.add("mod","dropped","style"),n.innerHTML="FE0F";else if(8419==e)n.classList.add("mod","keycap"),n.innerHTML="Keycap";else if(e>=917536&&e<=917631){e-=917504;let o=String.fromCodePoint(e);127===e?(n.classList.add("mod"),n.innerHTML="TagEnd"):(/^[\x21-\x7E]+$/gu.test(o)?n.innerHTML=o:(n=document.createElement("code"),n.innerHTML=t(e)),n.classList.add("mod","tag"))}else s.includes(e)?(n.classList.add("emoji"),n.innerHTML=String.fromCodePoint(e)):(n=document.createElement("code"),n.classList.add("mod","dropped"),n.innerHTML=t(e));c.append(n)}}else if(c=document.createElement("div"),n)c.innerHTML=o(...n),c.title=d(n),c.classList.add("valid");else if(r){c.classList.add("mapped");for(let t of e?r:p){let n=document.createElement("span");n.innerHTML=o(t),n.title=d([t]),c.append(n)}}else a?(c=document.createElement("code"),c.innerHTML=t(a),c.title=d([a]),c.classList.add("ignored")):void 0!==i?(c.classList.add("disallowed"),c.innerHTML=o(i),c.title=d([i])):(c.classList.add("stop"),c.innerHTML=".");return c}))),r}function a(){let t=document.createElement("style");t.innerText="\n\t.tokens {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 2px;\n\t}\n\t.tokens > * {\n\t\tpadding: 2px 4px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 4px;\n\t}\n\t.tokens a {\n\t\ttext-decoration: none;\n\t}\n\t.tokens a:hover {\n\t\toutline: 2px solid #00f;\n\t}\n\t.tokens .valid {\n\t\tborder-radius: 5px;\n\t\tbackground: #cfc;\n\t\tborder: 2px solid #0a0;\n\t\tline-break: anywhere;\n\t}\n\t.tokens .ignored {\n\t\tcolor: #fff;\n\t\tbackground: #aaa;\n\t\tmin-width: 5px;\n\t}\n\t.tokens .disallowed {\n\t\tbackground: #f66;\t\n\t}\n\t.tokens .mapped {\n\t\tdisplay: flex;\n\t\tborder: 2px solid #66f;\n\t\tbackground: #ccf;\n\t\tborder-radius: 5px;\n\t}\n\t.tokens .mapped span {\n\t\tmargin-bottom: -4px;\n\t\tborder-bottom: 4px solid #000;\n\t}\n\t.tokens .stop {\n\t\tfont-weight: bold;\n\t}\n\t.tokens .glyph {\n\t\tborder: 2px solid #0aa;\n\t\tborder-radius: 0.5rem;\n\t\tbackground: #cff;\n\t}\n\t.tokens .mod {\n\t\tfont-size: 70%;\n\t\tpadding: 2px;\n\t\tbackground: #333;\n\t\tcolor: #fff;\n\t\tborder-radius: 5px;\n\t}\n\t.tokens .mod.zwj {\n\t\tbackground: #0aa;\n\t}\n\t.tokens .mod.tag {\n\t\tbackground: #33f;\n\t}\n\t.tokens .mod.dropped {\n\t\tbackground: #aaa;\n\t\tmin-width: 5px;\n\t}\n\t.tokens code {\n\t\tfont-size: 90%;\n\t\tpadding: 2px;\n\t\tborder-radius: 5px;\n\t\tcolor: #fff;\n\t\tbackground: rgba(0, 0, 0, .3);\n\t\talign-self: center;\n\t}",document.body.append(t)}export{r as dom_from_tokens,a as use_default_style};
