function t(t){if("string"!=typeof t)throw new TypeError("expected string");return[...t].map((t=>t.codePointAt(0)))}function r(t){return t<26?97+t:22+t}function n(t,r){let n=t-r;return n<=0?1:n>=26?26:n}function e(t,r,n){t=Math.floor(t/(n?700:2)),t+=Math.floor(t/r);let e=0;for(;t>455;)t=Math.floor(t/35),e+=36;return e+Math.floor(36*t/(t+38))}const o=new Set(t("-.0123456789abcdefghijklmnopqrstuvwxyz"));function i(t,r){return new Error(`Invalid label "${function(t){return t.replace(/[^\x21\x23-\x7A\x7C\x7E]/gu,(t=>{return`{${r=t.codePointAt(0),r.toString(16).toUpperCase().padStart(2,"0")}}`;var r}))}(t)}": ${r}`)}function f(f){let l=0;return f.split(".").map(((f,u)=>{if(u>0&&l++,!f)return"";if(/^xn--/i.test(f))throw i("literal punycode");if(f.startsWith("-"))throw i(f,"leading hyphen");if(f.endsWith("-"))throw i(f,"trailing hyphen");let h=t(f),a=function(t){let o=t.filter((t=>t<128)),i=o.length;if(i==t.length)return t;i&&o.push(45);let f=128,l=72,u=0,h=i;for(;h<t.length;){let a=t.reduce(((t,r)=>r>=f&&r<t?r:t),1/0);u+=(a-f)*(h+1);for(let f of t)if(f<a)u++;else if(f==a){let t=u;for(let e=36;;e+=36){let i=n(e,l),f=t-i;if(f<0)break;let u=36-i;o.push(r(i+f%u)),t=Math.floor(f/u)}o.push(r(t)),l=e(u,h+1,h==i),u=0,h++}u++,f=a+1}return o}(h);if(a.length>63)throw i(f,"too long");if(a.some((t=>!o.has(t))))throw i(f,"invalid ASCII");if(l+=a.length,l>253)throw new Error("Name too long");return a===h?f:"xn--"+String.fromCodePoint(...a)})).join(".")}export{f as dns_from_normalized_ens};
